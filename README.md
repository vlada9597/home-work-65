home-work-65 –ü—Ä–æ—î–∫—Ç –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –Ω–∞ Node.js (Express + MongoDB + JWT)

–¶–µ–π –ø—Ä–æ—î–∫—Ç ‚Äî —Ü–µ –ø—Ä–æ—Å—Ç–∏–π —Å–µ—Ä–≤–µ—Ä –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó, —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –Ω–∞ –æ—Å–Ω–æ–≤—ñ Node.js, Express, MongoDB (Mongoose), JWT, bcrypt —Ç–∞ EJS.
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ –∑–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è, —É–≤—ñ–π—Ç–∏ —Ç–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –∑–∞—Ö–∏—â–µ–Ω–æ—ó —Å—Ç–æ—Ä—ñ–Ω–∫–∏.

----------------

üöÄ –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

–í—Ö—ñ–¥ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é JSON Web Token

–•–µ—à—É–≤–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—è —á–µ—Ä–µ–∑ bcrypt

–ó–∞—Ö–∏—â–µ–Ω—ñ –º–∞—Ä—à—Ä—É—Ç–∏ (–¥–æ—Å—Ç—É–ø —Ç—ñ–ª—å–∫–∏ –∑ —Ç–æ–∫–µ–Ω–æ–º)

EJS ‚Äî —à–∞–±–ª–æ–Ω—ñ–∑–∞—Ç–æ—Ä –¥–ª—è —Å—Ç–æ—Ä—ñ–Ω–æ–∫

–ü–µ—Ä–µ–º–∏–∫–∞—á —Ç–µ–º–∏ (light/dark) —á–µ—Ä–µ–∑ cookies

–ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ MongoDB Atlas

–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ .env –¥–ª—è —Å–µ–∫—Ä–µ—Ç–Ω–∏—Ö –∑–º—ñ–Ω–Ω–∏—Ö

üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É
/home-work-65
‚îÇ
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îî‚îÄ‚îÄ User.js               # –ú–æ–¥–µ–ª—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (Mongoose)
‚îÇ
‚îú‚îÄ‚îÄ views/
‚îÇ   ‚îú‚îÄ‚îÄ index.ejs             # –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ login.ejs             # –§–æ—Ä–º–∞ –≤—Ö–æ–¥—É
‚îÇ   ‚îú‚îÄ‚îÄ register.ejs          # –§–æ—Ä–º–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó
‚îÇ   ‚îî‚îÄ‚îÄ dashboard.ejs         # –ó–∞—Ö–∏—â–µ–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞
‚îÇ
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îî‚îÄ‚îÄ css/
‚îÇ       ‚îî‚îÄ‚îÄ style.css         # (–∑–∞ –ø–æ—Ç—Ä–µ–±–∏)
‚îÇ
‚îú‚îÄ‚îÄ app.js                    # –û—Å–Ω–æ–≤–Ω–∏–π —Ñ–∞–π–ª —Å–µ—Ä–≤–µ—Ä–∞
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ .env                      # –û—Å–æ–±–∏—Å—Ç—ñ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
‚îú‚îÄ‚îÄ .env.example              # –ü—Ä–∏–∫–ª–∞–¥ —Ñ–∞–π–ª—É –∑–º—ñ–Ω–Ω–∏—Ö
‚îî‚îÄ‚îÄ README.md

‚öôÔ∏è –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è
1. –ö–ª–æ–Ω—É–≤–∞—Ç–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
git clone https://github.com/<your-repo>/home-work-65.git
cd home-work-65

2. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
npm install

üîê –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

–°—Ç–≤–æ—Ä–∏ —Ñ–∞–π–ª .env —É –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ—î–∫—Ç—É.

üìå –ü—Ä–∏–∫–ª–∞–¥ .env:
MONGO_URI=mongodb+srv://<username>:<password>@cluster0.xyrpzmk.mongodb.net/?retryWrites=true&w=majority
JWT_SECRET=supersecretkey
PORT=3000


‚ö†Ô∏è –û–±–æ–≤‚Äô—è–∑–∫–æ–≤–æ:
‚úî –∑–∞–º—ñ–Ω–∏ <username> —ñ <password>
‚úî –¥–æ–¥–∞–π —Å–ø—Ä–∞–≤–∂–Ω—ñ–π —Å–µ–∫—Ä–µ—Ç JWT
‚úî –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂—É–π .env —É GitHub

–°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –ø—Ä–∏–∫–ª–∞–¥:

cp .env.example .env

‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
node app.js


–∞–±–æ —á–µ—Ä–µ–∑ nodemon:

npx nodemon app.js


–Ø–∫—â–æ –≤—Å–µ –¥–æ–±—Ä–µ, –æ—Ç—Ä–∏–º–∞—î—à:

üåø MongoDB Connected
üöÄ Server running on http://localhost:3000

üß™ –Ø–∫ –ø—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ —Ä–æ–±–æ—Ç—É
1Ô∏è‚É£ –í—ñ–¥–∫—Ä–∏—Ç–∏ –≥–æ–ª–æ–≤–Ω—É —Å—Ç–æ—Ä—ñ–Ω–∫—É
GET http://localhost:3000/


‚úî –ø—Ä–∞—Ü—é—î –ø–µ—Ä–µ–º–∏–∫–∞—á —Ç–µ–º–∏
‚úî –≤—Å–µ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å—Å—è —á–µ—Ä–µ–∑ EJS

2Ô∏è‚É£ –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –Ω–æ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
POST http://localhost:3000/register


–û—á—ñ–∫—É–≤–∞–Ω–æ:

User created successfully

3Ô∏è‚É£ –í—Ö—ñ–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
POST http://localhost:3000/login


–ü—ñ—Å–ª—è —É—Å–ø—ñ—Ö—É:

‚úî —É cookies –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è JWT
‚úî —Ä–µ–¥—ñ—Ä–µ–∫—Ç –Ω–∞ dashboard

4Ô∏è‚É£ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–∞—Ö–∏—â–µ–Ω–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç—É
GET http://localhost:3000/dashboard


—è–∫—â–æ —Ç–æ–∫–µ–Ω –≤–∞–ª—ñ–¥–Ω–∏–π ‚Üí –≤—ñ–¥–∫—Ä–∏—î—Ç—å—Å—è —Å—Ç–æ—Ä—ñ–Ω–∫–∞

—è–∫—â–æ –Ω—ñ ‚Üí —Ä–µ–¥—ñ—Ä–µ–∫—Ç –Ω–∞ login

üß© –¢–∏–ø–æ–≤—ñ –ø–æ–º–∏–ª–∫–∏ —Ç–∞ —ó—Ö –≤–∏—Ä—ñ—à–µ–Ω–Ω—è
‚ùå 1. –ü–æ–º–∏–ª–∫–∞ MongoDB: URI undefined
The `uri` parameter to `openUri()` must be a string, got "undefined"


–ü—Ä–∏—á–∏–Ω–∏:

.env —â–µ –Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π

–Ω–∞–∑–≤–∞ –∑–º—ñ–Ω–Ω–æ—ó –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞

—Å–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω–æ –¥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è .env

–†—ñ—à–µ–Ω–Ω—è:

‚úî —Å—Ç–≤–æ—Ä–∏—Ç–∏ .env
‚úî –ø–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è, —â–æ –∑–º—ñ–Ω–Ω–∞ –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è MONGO_URI
‚úî –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–µ—Ä–≤–µ—Ä

‚ùå 2. –ù–µ–≤—ñ—Ä–Ω–∏–π –ª–æ–≥—ñ–Ω –∞–±–æ –ø–∞—Ä–æ–ª—å

–ü—Ä–∏—á–∏–Ω–∏:

–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–µ —ñ—Å–Ω—É—î

–ø–∞—Ä–æ–ª—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π

bcrypt –Ω–µ –∑–º—ñ–≥ –ø–æ—Ä—ñ–≤–Ω—è—Ç–∏

‚ùå 3. JWT –ø–æ–º–∏–ª–∫–∞: invalid signature

–ü—Ä–∏—á–∏–Ω–∏:

–∑–º—ñ–Ω–∏–≤—Å—è JWT_SECRET

—É –±—Ä–∞—É–∑–µ—Ä—ñ –∑–±–µ—Ä—ñ–≥—Å—è —Å—Ç–∞—Ä–∏–π —Ç–æ–∫–µ–Ω

–†—ñ—à–µ–Ω–Ω—è:

‚úî –æ—á–∏—Å—Ç–∏—Ç–∏ cookies
‚úî —É–≤—ñ–π—Ç–∏ –∑–Ω–æ–≤—É

üì¶ –ó–∞–ø–∏—Ç–∏ –¥–ª—è Postman
–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è
POST http://localhost:3000/register
Content-Type: application/json
{
  "username": "testuser",
  "password": "123456"
}

–í—Ö—ñ–¥
POST http://localhost:3000/login
{
  "username": "testuser",
  "password": "123456"
}
